<!-- reservation-card.component.html -->
<div class="reservation-card-container" (click)="toggleSelection()" [ngStyle]="{'max-width': isFullWidth ? '854px' : '430px'}" [style.transition]="'max-width 0.3s ease-in-out'">
  <div class="reservation-card" [ngClass]="{'bg-selected': isSelected, 'bg-white': !isSelected}">
    <!-- Status indicator -->
    <div *ngIf="assigned" class="status-indicator" [ngClass]="getAccentColor()"></div>
    
    <!-- Not assigned indicator -->
    <div *ngIf="!assigned" data-status="Not assigned" class="status-indicator-unassigned">
      <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="warning-icon">
        <path d="M6.5 0.75C6.82812 0.75 7.13281 0.9375 7.29688 1.21875L12.3594 9.84375C12.5234 10.1484 12.5234 10.5 12.3594 10.7812C12.1953 11.0859 11.8906 11.25 11.5625 11.25H1.4375C1.08594 11.25 0.78125 11.0859 0.617188 10.7812C0.453125 10.5 0.453125 10.1484 0.617188 9.84375L5.67969 1.21875C5.84375 0.9375 6.14844 0.75 6.5 0.75ZM6.5 3.75C6.17188 3.75 5.9375 4.00781 5.9375 4.3125V6.9375C5.9375 7.26562 6.17188 7.5 6.5 7.5C6.80469 7.5 7.0625 7.26562 7.0625 6.9375V4.3125C7.0625 4.00781 6.80469 3.75 6.5 3.75ZM7.25 9C7.25 8.60156 6.89844 8.25 6.5 8.25C6.07812 8.25 5.75 8.60156 5.75 9C5.75 9.42188 6.07812 9.75 6.5 9.75C6.89844 9.75 7.25 9.42188 7.25 9Z" fill="white"/>
      </svg>
    </div>
    
    <!-- Left content group -->
    <div class="content-wrapper">
      <!-- Top row with name, unit, tow -->
      <div class="header-row">
        <div class="name" title="{{ name }}">{{ name }}</div>
        
        <div class="detail-section">
          <div class="divider"></div>
          <div class="detail-group">
            <div class="label">Unit:</div>
            <div class="value">{{ unitNumber }}</div>
          </div>
        </div>
        
        <div class="detail-section">
          <div class="divider"></div>
          <div class="detail-group">
            <div class="label">Tow:</div>
            <div class="value">{{ towNumber }}</div>
          </div>
        </div>
      </div>
      
      <!-- Bottom row with details -->
      <div class="details-row">
        <div class="vehicle-type">{{ vehicleType }}</div>
        <div class="divider"></div>
        <div class="trip-type">{{ tripType }}</div>
        <div class="divider"></div>
        <div class="customer-type">{{ customerType }}</div>
        <div class="divider"></div>
        
        <!-- Phone icon -->
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.5 3C16.3125 3 17 3.6875 17 4.5V15.5C17 16.3438 16.3125 17 15.5 17H4.5C3.65625 17 3 16.3438 3 15.5V4.5C3 3.6875 3.65625 3 4.5 3H15.5ZM14.9688 12.625C14.9688 12.5938 14.9688 12.5625 15 12.5C14.9688 12.3125 14.875 12.1562 14.6875 12.0938L12.5 11.1562C12.4688 11.125 12.4062 11.125 12.3438 11.0938C12.1875 11.125 12.0625 11.1875 11.9688 11.2812L11 12.4688C9.46875 11.75 8.25 10.5312 7.53125 9L8.71875 8.03125C8.8125 7.9375 8.875 7.8125 8.90625 7.65625C8.875 7.59375 8.875 7.53125 8.84375 7.5L7.90625 5.3125C7.84375 5.125 7.6875 5.03125 7.5 5C7.4375 5.03125 7.40625 5.03125 7.375 5.03125L5.34375 5.5C5.15625 5.5625 5 5.71875 5 5.9375C5 10.9688 9.0625 15 14.0625 15C14.2812 15 14.4688 14.875 14.5 14.6562L14.9688 12.625Z" fill="#606060"/>
        </svg>
        
        <div class="divider"></div>
        
        <!-- Shield checkmark icon -->
        <div class="shield-icon" title="Insurance verified">
          <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.5625 2.625C15.125 2.875 15.5 3.40625 15.5 4C15.5 10.9375 11.25 14.7812 8.5625 15.9062C8.1875 16.0625 7.78125 16.0625 7.40625 15.9062C4.0625 14.5 0.5 10.2188 0.5 4C0.5 3.40625 0.84375 2.875 1.40625 2.625L7.40625 0.125C7.59375 0.0625 7.78125 0.03125 8 0.03125C8.1875 0.03125 8.375 0.0625 8.5625 0.125L14.5625 2.625ZM13.0938 6.1875C13.2812 6 13.2812 5.6875 13.0938 5.5L12.375 4.78125C12.1875 4.59375 11.875 4.59375 11.6875 4.78125L7 9.46875L4.78125 7.28125C4.59375 7.09375 4.28125 7.09375 4.09375 7.28125L3.375 8C3.1875 8.1875 3.1875 8.5 3.375 8.6875L6.625 11.9375C6.8125 12.1562 7.15625 12.1562 7.34375 11.9375L13.0938 6.1875Z" fill="#FF8D00"/>
          </svg>
        </div>
      </div>
    </div>
    
    <!-- Right add button -->
    <div class="action-button">
      <button class="btn-add" (click)="$event.stopPropagation(); toggleUnitSelection()">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.1875 9.5625C17.3438 9.5625 17.5 9.71875 17.5 9.875V11.125C17.5 11.3203 17.3438 11.4375 17.1875 11.4375H10.9375V17.6875C10.9375 17.8828 10.7812 18 10.625 18H9.375C9.17969 18 9.0625 17.8828 9.0625 17.6875V11.4375H2.8125C2.61719 11.4375 2.5 11.3203 2.5 11.125V9.875C2.5 9.71875 2.61719 9.5625 2.8125 9.5625H9.0625V3.3125C9.0625 3.15625 9.17969 3 9.375 3H10.625C10.7812 3 10.9375 3.15625 10.9375 3.3125V9.5625H17.1875Z" fill="#717274"/>
        </svg>
      </button>
    </div>
  </div>
</div>